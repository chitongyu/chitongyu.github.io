{"source":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-a68a500e\"],{\"1b31\":function(e,t,a){\"use strict\";var s=a(\"b8e2\");a.n(s).a},\"467b\":function(e,t,a){\"use strict\";a(\"7364\"),a(\"d4d5\");var s={name:\"compName\",components:{},filters:{},props:{updateObj:{type:Object,default:function(){},required:!1},taskId:{type:Number,default:null,required:!1}},data:function(){return{options:[{lable:1,value:1}],list:[],loading:!1,updateForm:{id:\"\",projectNumber:\"\",principalAdminCode:\"\",moduleId:\"\",moduleName:\"\",name:\"\",description:\"\",lineName:\"\",planStartTime:\"\",planEndTime:\"\",planManHours:\"\"},updateRuleForm:{projectNumber:[{required:!0,message:\"请输入项目编号\"}],moduleId:[{required:!0,message:\"请选择模块\"}],name:[{required:!0,message:\"请输入任务名称\"}],description:[{required:!0,message:\"请输入任务描述\"}],roleId:[{required:!0,message:\"请输入角色\"}],planStartTime:[{required:!0,message:\"请选择计划开始时间\"}],planEndTime:[{required:!0,message:\"请选择计划结束时间\"}],planManHours:[{required:!0,message:\"请输入预计投入工时\"}],principalAdminName:[{required:!0,message:\"\"}],reason:[{required:!0,message:\"请输入修改原因\"}]}}},computed:{},watch:{updateObj:{handler:function(e,t){this.updateForm.taskId=this.taskId,this.updateForm.id=e.id,this.updateForm.taskId=e.id,this.updateForm.projectNumber=e.projectNumber,this.updateForm.projectName=e.projectName,this.updateForm.principalAdminCode=e.principalAdminCode,this.updateForm.principalAdminName=e.principalAdminName,this.updateForm.moduleId=e.moduleId,this.updateForm.moduleName=e.moduleName,this.updateForm.name=e.name,this.updateForm.description=e.description,this.updateForm.lineName=e.lineName,this.updateForm.planStartTime=e.planStartTime,this.updateForm.planEndTime=e.planEndTime,this.updateForm.planManHours=e.planManHours},deep:!0,immediate:!0}},created:function(){},methods:{handlerDate:function(e,t,a){this.$moment(t.planEndTime).valueOf()<this.$moment(t.planStartTime).valueOf()&&(t[a]=\"\",this.$message({showClose:!0,message:\"预计完成时间不能小于计划开始时间\",type:\"warning\"}))},save:function(){var e=this;24<self.updateForm.manHours||self.updateForm.manHours<=0?self.$message({showClose:!0,message:\"工时范围必须为0~24之间\",type:\"warning\"}):this.$confirm(\"确认提交?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(function(){e.$message({type:\"success\",message:\"提交成功!\"}),e.$backTo()}).catch(function(){e.$message({type:\"info\",message:\"已取消\"})})},commitUpdate:function(){var t=this;t.$http.post(\"/admin/tfTask/update.d\",t.updateForm,function(e){t.$emit(\"cancel\"),t.$message({showClose:!0,message:\"修改成功\",type:\"success\"})},function(e){t.$message({showClose:!0,message:e.result.msg,type:\"warning\"})},function(e){t.$message({showClose:!0,message:e.error+\"-\"+e.message,type:\"warning\"}),t.loading=!1})}}},n=(a(\"7eb6\"),a(\"6691\")),i=Object(n.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"compName w100\"},[a(\"el-form\",{ref:\"updateRuleForm\",attrs:{model:t.updateForm,rules:t.updateRuleForm,\"status-icon\":\"\",\"label-width\":\"100px\"}},[a(\"el-form-item\",{attrs:{label:\"项目编号\",prop:\"projectNumber\"}},[a(\"el-input\",{attrs:{maxlength:50,placeholder:\"请项目编号\",name:\"projectNumber\",disabled:!0,\"auto-complete\":\"off\"},model:{value:t.updateForm.projectNumber,callback:function(e){t.$set(t.updateForm,\"projectNumber\",\"string\"==typeof e?e.trim():e)},expression:\"updateForm.projectNumber\"}})],1),a(\"el-form-item\",{attrs:{label:\"项目名称\",prop:\"projectNumber\"}},[a(\"el-input\",{attrs:{maxlength:50,placeholder:\"项目名称\",name:\"projectName\",disabled:!0,\"auto-complete\":\"off\"},model:{value:t.updateForm.projectName,callback:function(e){t.$set(t.updateForm,\"projectName\",\"string\"==typeof e?e.trim():e)},expression:\"updateForm.projectName\"}})],1),a(\"el-form-item\",{attrs:{label:\"工作模块\",prop:\"name\"}},[a(\"el-input\",{attrs:{maxlength:50,placeholder:\"\",name:\"moduleName\",disabled:!0,\"auto-complete\":\"off\"},model:{value:t.updateForm.moduleName,callback:function(e){t.$set(t.updateForm,\"moduleName\",\"string\"==typeof e?e.trim():e)},expression:\"updateForm.moduleName\"}})],1),a(\"el-form-item\",{attrs:{label:\"任务名称\",prop:\"name\"}},[a(\"el-input\",{attrs:{maxlength:50,placeholder:\"输入任务名称\",name:\"name\",\"auto-complete\":\"off\"},model:{value:t.updateForm.name,callback:function(e){t.$set(t.updateForm,\"name\",\"string\"==typeof e?e.trim():e)},expression:\"updateForm.name\"}})],1),a(\"el-form-item\",{attrs:{label:\"任务描述\",prop:\"name\"}},[a(\"el-input\",{attrs:{maxlength:50,placeholder:\"输入任务描述\",name:\"name\",\"auto-complete\":\"off\"},model:{value:t.updateForm.description,callback:function(e){t.$set(t.updateForm,\"description\",\"string\"==typeof e?e.trim():e)},expression:\"updateForm.description\"}})],1),a(\"el-form-item\",{attrs:{label:\"计划开始时间\",prop:\"name\"}},[a(\"el-date-picker\",{attrs:{type:\"date\",\"value-format\":\"yyyy-MM-dd\",placeholder:\"计划开始时间\"},on:{change:function(e){t.handlerDate(e,t.updateForm,\"planStartTime\")}},model:{value:t.updateForm.planStartTime,callback:function(e){t.$set(t.updateForm,\"planStartTime\",e)},expression:\"updateForm.planStartTime\"}})],1),a(\"el-form-item\",{attrs:{label:\"预计完成时间\",prop:\"planEndTime\"}},[a(\"el-date-picker\",{attrs:{type:\"date\",\"value-format\":\"yyyy-MM-dd\",placeholder:\"预计完成时间\"},on:{change:function(e){t.handlerDate(e,t.updateForm,\"planEndTime\")}},model:{value:t.updateForm.planEndTime,callback:function(e){t.$set(t.updateForm,\"planEndTime\",e)},expression:\"updateForm.planEndTime\"}})],1),a(\"el-form-item\",{attrs:{label:\"预计投入工时\",prop:\"planManHours\"}},[a(\"el-input\",{attrs:{placeholder:\"预计投入工时\",clearable:\"\"},model:{value:t.updateForm.planManHours,callback:function(e){t.$set(t.updateForm,\"planManHours\",e)},expression:\"updateForm.planManHours\"}})],1),a(\"el-form-item\",{attrs:{label:\"指派给\",prop:\"principalAdminName\"}},[a(\"el-input\",{attrs:{placeholder:\"\",clearable:\"\",disabled:!0},model:{value:t.updateForm.principalAdminName,callback:function(e){t.$set(t.updateForm,\"principalAdminName\",e)},expression:\"updateForm.principalAdminName\"}})],1),a(\"el-form-item\",{attrs:{label:\"修改原因\",prop:\"reason\"}},[a(\"el-input\",{attrs:{maxlength:50,placeholder:\"请输入修改原因\",name:\"reason\",\"auto-complete\":\"off\"},model:{value:t.updateForm.reason,callback:function(e){t.$set(t.updateForm,\"reason\",\"string\"==typeof e?e.trim():e)},expression:\"updateForm.reason\"}})],1)],1),a(\"div\",{staticClass:\"w100 flex_row_center padding1\"},[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(e){return t.commitUpdate()}}},[t._v(\"保存\")]),a(\"el-button\",{on:{click:function(e){return t.$emit(\"cancel\")}}},[t._v(\"返回\")])],1)],1)},[],!1,null,\"3e0ee58e\",null);t.a=i.exports},7364:function(e,t,a){var s=a(\"ddf7\").f,n=Function.prototype,i=/^\\s*function ([^ (]*)/;\"name\"in n||a(\"dad2\")&&s(n,\"name\",{configurable:!0,get:function(){try{return(\"\"+this).match(i)[1]}catch(e){return\"\"}}})},\"7eb6\":function(e,t,a){\"use strict\";var s=a(\"9b41\");a.n(s).a},\"8bbf\":function(e,t,a){\"use strict\";a.r(t);a(\"f763\");var s=a(\"5bf7\"),n=(a(\"7364\"),a(\"f1dd\")),i=a(\"e050\"),o=a(\"467b\"),r={name:\"myPrincipalTask\",components:{AddWorkTime:n.a,UpdateWorkTime:i.a,UpdateTask:o.a},inject:[\"reload\"],filters:{},props:{},data:function(){return{departName:this.$store.getters[\"user/getInfo\"]&&this.$store.getters[\"user/getInfo\"].deptName,groupName:this.$store.getters[\"user/getInfo\"]&&this.$store.getters[\"user/getInfo\"].groupName,sapCode:this.$store.getters[\"user/getInfo\"]&&this.$store.getters[\"user/getInfo\"].sapCode,tableData:[{id:2,name:\"test\",value:1},{id:1,name:\"test\",value:1}],searchObj:{page:1,pageSize:15,status:1},total:100,taskStatus:0,addWorkTimeDialog:!1,updateWorkTimeDialog:!1,myPrincipalTaskList:[],selectRow:{},maxHeight:\"\",getIndex:\"\",updateTaskDialog:!1,updateObj:{},updateTaskId:null,loading:!1}},computed:{},watch:{\"searchObj.status\":{handler:function(e,t){this.$replaceTo(\"?\",{taskStatus:e})},deep:!0,immediate:!1},$route:{handler:function(e,t){this.searchObj.status=e.query.taskStatus},deep:!0,immediate:!0}},created:function(){this.refresh()},mounted:function(){this.setHeight()},methods:{ifMyPrinciples:function(e){return e==this.sapCode},setHeight:function(){var e=this.$refs.maindiv;e.offsetHeight;this.maxHeight=e.offsetHeight-this.$refs.header1.offsetHeight-this.$refs.header2.offsetHeight-50},refresh:function(){this.getMyPrincipalTaskByPage()},chooseType:function(e){this.typeClass=e},selectedHighlight:function(e){var t=e.row;e.rowIndex;if(this.getIndex===t.id)return{\"background-color\":\"#EBF2FC !important\"}},rowClick:function(e){this.getIndex=e.id},addWorkTime:function(e){3!=e.status?2!=e.status?1==e.isLeaf?this.ifMyPrinciples(e.principalAdminCode)?(this.selectRow=e,this.addWorkTimeDialog=!0):this.$message({showClose:!0,message:\"该任务不是指派给您的，无法报工\",type:\"warning\"}):this.$message({showClose:!0,message:\"不能对父任务报工\",type:\"warning\"}):this.$message({showClose:!0,message:\"该任务已完成，请重新选择\",type:\"warning\"}):this.$message({showClose:!0,message:\"该任务已关闭，请重新选择\",type:\"warning\"})},updateWorkTime:function(e){1==e.isLeaf?(this.selectRow=e,this.updateWorkTimeDialog=!0):this.$message({showClose:!0,message:\"无法对父任务进行该项操作，请选择子任务\",type:\"warning\"})},updateTask:function(e){3!=e.status?2!=e.status?(this.updateObj=e,this.updateTaskDialog=!0):this.$message({showClose:!0,message:\"该任务已完成，请重新选择\",type:\"warning\"}):this.$message({showClose:!0,message:\"该任务已关闭\",type:\"warning\"})},deleteTask:function(e){var t=this;0==e.status?this.$confirm(\"确认删除?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(function(){t.commitDelete(e.id)}).catch(function(){t.$message({type:\"info\",message:\"已取消\"})}):this.$message({showClose:!0,message:\"只有未开始的任务才能删除\",type:\"warning\"})},createChildTask:function(e){var t;3!=e.status?e.distributableManHours<=0?this.$message({showClose:!0,message:\"该任务无可分配工时，请重新选择\",type:\"warning\"}):this.$pushTo(\"/task/createChildTask\",(t={taskId:e.id,taskStatus:e.status,description:e.description,principalAdminName:e.principalAdminName,moduleName:e.moduleName},Object(s.a)(t,\"taskId\",e.id),Object(s.a)(t,\"parentTask\",e.name),Object(s.a)(t,\"planManHours\",e.planManHours),Object(s.a)(t,\"planStartTime\",e.planStartTime),Object(s.a)(t,\"planEndTime\",e.planEndTime),t)):this.$message({showClose:!0,message:\"该任务已关闭，请重新选择\",type:\"warning\"})},closeTask:function(e){var t=this;3!=e.status?2!=e.status?this.$confirm(\"确认关闭?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(function(){t.commitClose(e.id)}).catch(function(){t.$message({type:\"info\",message:\"已取消\"})}):this.$message({showClose:!0,message:\"该任务已完成，请重新选择\",type:\"warning\"}):this.$message({showClose:!0,message:\"该任务已关闭，请重新选择\",type:\"warning\"})},commitDelete:function(e){var t=this;t.loading=!0,t.$http.post(\"/admin/tfTask/deleteTask.d\",{id:e},function(e){t.$message({type:\"success\",message:\"删除成功!\"}),t.refresh()},function(e){t.$message({showClose:!0,message:e.result.msg,type:\"warning\"}),t.loading=!1},function(e){t.$message({showClose:!0,message:e.error+\"-\"+e.message,type:\"warning\"}),t.loading=!1})},commitClose:function(e){var t=this;t.loading=!0,t.$http.post(\"/admin/tfTask/closeTask.d\",{id:e},function(e){t.$message({type:\"success\",message:\"关闭成功!\"}),t.refresh()},function(e){t.$message({showClose:!0,message:e.result.msg,type:\"warning\"}),t.loading=!1},function(e){t.$message({showClose:!0,message:e.error+\"-\"+e.message,type:\"warning\"}),t.loading=!1})},getMyPrincipalTaskByPage:function(){var t=this;t.loading=!0,t.$http.post(\"/admin/tfTask/listMyPrincipalTaskByPage.d\",t.searchObj,function(e){t.myPrincipalTaskList=e.body.rows,t.myPrincipalTaskList.forEach(function(e){(e.level=1)!=e.isLeaf&&(e.hasChildren=!0)}),t.total=e.body.total,t.loading=!1},function(e){t.$message({showClose:!0,message:e.result.msg,type:\"warning\"}),t.loading=!1},function(e){t.$message({showClose:!0,message:e.error+\"-\"+e.message,type:\"warning\"}),t.loading=!1})},getChildTask:function(){var t=this;t.loading=!0,t.$http.post(\"/admin/tfTask/listAllByParentId.d\",t.searchObj,function(e){t.myPrincipalTaskList=e.body.rows,t.myPrincipalTaskList.forEach(function(e){1!=e.isLeaf&&(e.hasChildren=!0)}),t.total=e.body.total,t.loading=!1},function(e){t.$message({showClose:!0,message:e.result.msg,type:\"warning\"}),t.loading=!1},function(e){t.$message({showClose:!0,message:e.error+\"-\"+e.message,type:\"warning\"}),t.loading=!1})},load:function(a,e,s){var t=this;t.$http.post(\"/admin/tfTask/listAllByParentId.d\",{parentId:a.id},function(e){var t=e.body.rows;t.forEach(function(e){e.level=a.level+1,1!=e.isLeaf&&(e.hasChildren=!0)}),s(t)},function(e){s([]),t.$message({showClose:!0,message:e.result.msg,type:\"warning\"})},function(e){s([]),t.$message({showClose:!0,message:err.result.msg,type:\"warning\"})})}}},l=(a(\"1b31\"),a(\"6691\")),m=Object(l.a)(r,function(){var a=this,e=a.$createElement,s=a._self._c||e;return s(\"div\",{staticClass:\"myPrincipalTask w100 h100 flex column\"},[s(\"div\",{staticClass:\"bg_white pos padding2 padding-left4 no_shrink\"},[s(\"el-breadcrumb\",{attrs:{\"separator-class\":\"iconfont icon-you \"}},[s(\"el-breadcrumb-item\",[a._v(\"明珞\")]),s(\"el-breadcrumb-item\",[a._v(a._s(a.departName))]),s(\"el-breadcrumb-item\",[a._v(a._s(a.groupName))]),s(\"el-breadcrumb-item\",[a._v(\"任务\")])],1)],1),s(\"div\",{ref:\"maindiv\",staticClass:\"w100 rel h100 \"},[s(\"el-dialog\",{staticClass:\"addWorkTimeDialog dialogCenter\",attrs:{title:\"添加报工\",\"modal-append-to-body\":!1,\"close-on-click-modal\":!1,visible:a.addWorkTimeDialog},on:{\"update:visible\":function(e){a.addWorkTimeDialog=e}}},[s(\"AddWorkTime\",{attrs:{selectRow:a.selectRow},on:{cancel:function(e){a.addWorkTimeDialog=!1,a.reload()},refresh:function(e){return a.refresh()},back:function(e){a.addWorkTimeDialog=!1}}})],1),s(\"el-dialog\",{staticClass:\"updateWorkTimeDialog dialogCenter\",attrs:{title:\"报工明细\",\"modal-append-to-body\":!1,\"close-on-click-modal\":!1,visible:a.updateWorkTimeDialog},on:{\"update:visible\":function(e){a.updateWorkTimeDialog=e}}},[s(\"UpdateWorkTime\",{attrs:{selectRow:a.selectRow},on:{cancel:function(e){a.updateWorkTimeDialog=!1,a.reload()},refresh:function(e){return a.reload()}}})],1),s(\"el-dialog\",{staticClass:\"updateTaskDialog dialogCenter\",attrs:{title:\"修改任务\",\"modal-append-to-body\":!1,\"close-on-click-modal\":!1,visible:a.updateTaskDialog},on:{\"update:visible\":function(e){a.updateTaskDialog=e}}},[s(\"UpdateTask\",{attrs:{updateObj:a.updateObj,taskId:a.updateTaskId},on:{cancel:function(e){a.updateTaskDialog=!1,a.reload()}}})],1),s(\"div\",{ref:\"header1\",staticClass:\"flex_row_start padding-left4 margin-top1 no_shrink\"},[s(\"div\",{staticClass:\"poi activeTask\",on:{click:function(e){return a.$replaceTo(\"/task/myPrincipalTask?taskStatus=\")}}},[a._v(\"指派给我的任务\")]),s(\"div\",{staticClass:\"margin-left4 poi\",on:{click:function(e){return a.$replaceTo(\"/task/myCreateTask?taskStatus=\")}}},[a._v(\"我创建的任务\")])]),s(\"div\",{ref:\"header2\",staticClass:\"task-status  padding2 padding-left4  flex_row_between no_shrink\"},[s(\"el-radio-group\",{model:{value:a.searchObj.status,callback:function(e){a.$set(a.searchObj,\"status\",e)},expression:\"searchObj.status\"}},[s(\"el-radio\",{attrs:{label:\"\"}},[a._v(\"全部\")]),s(\"el-radio\",{attrs:{label:\"0\"}},[a._v(\"未开始\")]),s(\"el-radio\",{attrs:{label:\"1\"}},[a._v(\"进行中\")]),s(\"el-radio\",{attrs:{label:\"2\"}},[a._v(\"已完成\")]),s(\"el-radio\",{attrs:{label:\"3\"}},[a._v(\"已关闭\")]),s(\"el-radio\",{attrs:{label:\"4\"}},[a._v(\"已延期\")])],1),s(\"el-button\",{staticClass:\"fs_13 margin-right4 flex_row_center\",attrs:{type:\"primary\",icon:\"icon-jia iconfont fs_16\"},on:{click:function(e){return a.$pushTo(\"/task/createTask\")}}},[a._v(\"批量创建\")])],1),s(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:a.loading,expression:\"loading\"}],staticClass:\"myPrincipalTask-table bg_white  margin-left4 margin-right4\"},[a.maxHeight?s(\"CommonTable\",{attrs:{tableData:a.myPrincipalTaskList,refreshFuncName:\"getMyPrincipalTaskByPage\",load:a.load,\"row-style\":a.selectedHighlight,indent:12,\"max-height\":a.maxHeight,lazy:\"\",\"row-key\":\"id\",\"tree-props\":{children:\"children\",hasChildren:\"hasChildren\"}},on:{\"row-click\":a.rowClick}},[a._v(\"\\n    >\\n      \"),s(\"template\",{slot:\"main\"},[s(\"el-table-column\",{attrs:{align:\"center\",prop:\"level\",label:\"层级\",fixed:\"left\",width:\"100\",\"class-name\":\"levelColumn\"},scopedSlots:a._u([{key:\"default\",fn:function(e){var t=e.row;return[s(\"span\",{staticClass:\"levelValue\"},[a._v(\"\\n           \"+a._s(t.level)+\"\\n         \")])]}}],null,!1,250568905)}),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"id\",label:\"ID\",width:\"100\"}}),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"projectNumber\",label:\"项目编号\",width:\"100\"}}),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"projectName\",label:\"项目名称\"}}),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"lineName\",label:\"线体\",width:\"100\"}}),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"name\",label:\"任务名称\",\"min-width\":\"150\"}}),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"description\",\"min-width\":\"150\",label:\"描述\"}}),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"planStartTime\",label:\"计划开始时间\",width:\"120\"}}),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"planEndTime\",label:\"计划完成时间\",width:\"120\"}}),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"principalAdminName\",label:\"指派给\",width:\"80\"}}),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"planManHours\",label:\"计划工时\",width:\"80\"},scopedSlots:a._u([{key:\"default\",fn:function(e){var t=e.row;return[a._v(\"\\n          \"+a._s(a.$toInt(t.planManHours))+\"\\n        \")]}}],null,!1,2690740720)}),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"actualManHours\",label:\"报工工时\",width:\"80\"},scopedSlots:a._u([{key:\"default\",fn:function(e){var t=e.row;return[a._v(\"\\n          \"+a._s(a.$toInt(t.actualManHours))+\"\\n        \")]}}],null,!1,2187803053)}),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"distributableManHours\",label:\"剩余\",width:\"70\"},scopedSlots:a._u([{key:\"default\",fn:function(e){var t=e.row;return[a._v(\"\\n          \"+a._s(a.$toInt(t.planManHours-t.actualManHours))+\"\\n        \")]}}],null,!1,3631927078)}),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"completionRate\",label:\"进度\",width:\"70\"},scopedSlots:a._u([{key:\"default\",fn:function(e){var t=e.row;return[a._v(\"\\n          \"+a._s(a.$toInt(t.completionRate))+\"%\\n        \")]}}],null,!1,2775523473)}),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"departmentName\",label:\"部门\"}}),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"groupName\",label:\"班组\"}}),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"moduleName\",label:\"工作模块\",width:\"90\"}}),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"createAdminName\",label:\"创建人\",width:\"80\"}}),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"status\",label:\"状态\",width:\"70\"},scopedSlots:a._u([{key:\"default\",fn:function(e){var t=e.row;return[a._v(\"\\n            \"+a._s(a._f(\"taskStatus\")(t.status))+\"\\n        \")]}}],null,!1,2168140427)}),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"\",label:\"操作\",width:\"120\",fixed:\"right\"},scopedSlots:a._u([{key:\"default\",fn:function(e){var t=e.row;return[s(\"el-tooltip\",{staticClass:\"item\",attrs:{effect:\"dark\",content:\"新增报工\",placement:\"bottom-start\"}},[s(\"i\",{staticClass:\"iconfont icon-shijian fs_20 \",class:3!=t.status&&2!=t.status&&1==t.isLeaf&&a.ifMyPrinciples(t.principalAdminCode)?\"cl_blue\":\"cl_grey\",on:{click:function(e){return a.addWorkTime(t)}}})]),s(\"el-tooltip\",{staticClass:\"item\",attrs:{effect:\"dark\",content:\"查看/修改报工\",placement:\"bottom-start\"}},[s(\"i\",{staticClass:\"iconfont icon-bianji1 fs_20 \",class:3==t.status||1!=t.isLeaf?\"cl_grey\":\"cl_blue\",on:{click:function(e){return a.updateWorkTime(t)}}})]),s(\"el-tooltip\",{staticClass:\"item\",attrs:{effect:\"dark\",content:\"添加/修改子任务\",placement:\"bottom-start\"}},[s(\"i\",{staticClass:\"iconfont icon-zuzhi fs_20 \",class:t.distributableManHours<=0||3==t.status?\"cl_grey\":\"cl_blue\",on:{click:function(e){return a.createChildTask(t)}}})]),s(\"el-popover\",{attrs:{placement:\"bottom\",width:\"100\",trigger:\"click\"}},[s(\"div\",{staticClass:\"margin-top1 flex_row_center\",on:{click:function(e){return a.deleteTask(t)}}},[s(\"el-button\",{attrs:{type:\"primary\"}},[a._v(\"删除任务\")])],1),s(\"div\",{staticClass:\"margin-top1 flex_row_center\",on:{click:function(e){return a.updateTask(t)}}},[s(\"el-button\",{attrs:{type:\"primary\"}},[a._v(\"修改任务\")])],1),s(\"div\",{staticClass:\"margin-top1 flex_row_center\",on:{click:function(e){return a.$pushTo(\"/task/updateTask\",{name:t.name,taskId:t.id,taskStatus:t.status})}}},[s(\"el-button\",{attrs:{type:\"primary\"}},[a._v(\"修改历史\")])],1),s(\"div\",{staticClass:\"margin-top1 flex_row_center\",on:{click:function(e){return a.closeTask(t)}}},[s(\"el-button\",{attrs:{type:\"primary\"}},[a._v(\"关闭任务\")])],1),s(\"el-tooltip\",{staticClass:\"item\",attrs:{slot:\"reference\",effect:\"dark\",content:\"更多操作\",placement:\"bottom-start\"},slot:\"reference\"},[s(\"i\",{staticClass:\"iconfont icon-gengduo fs_20 cl_blue\"})])],1)]}}],null,!1,1746593617)}),a._e()],1)],2):a._e()],1)],1)])},[],!1,null,\"3d80b49a\",null);t.default=m.exports},\"9b41\":function(e,t,a){},b8e2:function(e,t,a){}}]);"}