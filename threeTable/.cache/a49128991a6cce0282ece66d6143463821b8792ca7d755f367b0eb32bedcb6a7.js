{"source":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-7219d43e\"],{\"2af8\":function(e,t,s){\"use strict\";s.r(t);var o=[function(){var e=this.$createElement,t=this._self._c||e;return t(\"div\",{staticClass:\"login-header flex_row_start\"},[t(\"img\",{staticStyle:{\"margin-left\":\"20px\"},attrs:{height:\"65%\",src:s(\"f61c\")}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{staticClass:\"system-title\"},[s(\"div\",{staticClass:\"name\"},[e._v(\"任务管理系统\")]),s(\"div\",{staticClass:\"content\"},[e._v(\"Task Management System\")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{staticClass:\"login-title\"},[s(\"h1\",[e._v(\"用户登录\")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{staticClass:\"login-bottom flex_column_center\"},[s(\"div\",[e._v(\"广州明珞汽车装备有限公司\")]),s(\"div\",{staticClass:\"version\"},[e._v(\"版本：V1.01\")])])}],r=(s(\"2338\"),s(\"f763\"),s(\"dac5\"),s(\"fb37\"),s(\"7a35\"),s(\"5bf7\")),a=s(\"591a\");function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,o)}return s}var i={data:function(){return{ruleForm:{sapCode:\"\",pass:\"\"},rules:{sapCode:[{required:!0,message:\"请输入用户名\"}],pass:[{required:!0,message:\"请输入密码\"}]},loading:!1,checked:!0}},methods:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(s,!0).forEach(function(e){Object(r.a)(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}({},Object(a.b)(\"editableTabs\",{pushEditableTabs:\"pushEditableTabs\"}),{login:function(){var s=this;s.checked?(localStorage.setItem(\"loginusername\",s.ruleForm.sapCode),localStorage.setItem(\"loginpassword\",s.ruleForm.pass),localStorage.setItem(\"loginchecked\",\"1\")):(localStorage.removeItem(\"loginusername\"),localStorage.removeItem(\"loginpassword\"),localStorage.setItem(\"loginchecked\",\"0\")),this.$refs.ruleForm.validate(function(e){if(!e)return s.$message({showClose:!0,message:\"输入格式错误\",type:\"warning\"}),!1;s.loading=!0,s.$http.post(\"/admin/admin/login.d\",s.ruleForm,function(e){s.$store.dispatch(\"user/setToken\",e.body.rows.token),s.$store.dispatch(\"user/setPermissions\",JSON.stringify(e.body.rows.menus));e.body.rows.bottoms;var t=e.body.rows.permission;s.$store.dispatch(\"user/setBtPermissions\",JSON.stringify(t)),Reflect.deleteProperty(e.body.rows,\"bottoms\"),e.body.rows.sapCode=s.ruleForm.sapCode,s.$store.dispatch(\"user/setInfo\",JSON.stringify(e.body.rows)),s.$replaceTo(\"/\"),s.$message({showClose:!0,message:\"登陆成功\",type:\"success\"})},function(e){s.$message({showClose:!0,message:e.result.msg,type:\"warning\"}),s.loading=!1},function(e){s.$message({showClose:!0,message:e.error+\"-\"+e.message,type:\"warning\"}),s.loading=!1})})}}),created:function(){var e=this;e.$onkeydown(e.login),e.ruleForm.sapCode=localStorage.getItem(\"loginusername\"),e.ruleForm.pass=localStorage.getItem(\"loginpassword\"),\"1\"==localStorage.getItem(\"loginchecked\")?e.checked=!0:e.checked=!1}},l=(s(\"4bda\"),s(\"6691\")),c=Object(l.a)(i,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.loading,expression:\"loading\"}],staticClass:\"mino-login__wrap flex_column_start\"},[t._m(0),s(\"div\",{staticClass:\"login-content-wrapper\"},[s(\"div\",{staticClass:\"login-content\"}),t._m(1),s(\"div\",{staticClass:\"login\"},[t._m(2),s(\"div\",{staticClass:\"login-btn_area\"},[s(\"el-form\",{ref:\"ruleForm\",attrs:{model:t.ruleForm,rules:t.rules}},[s(\"el-form-item\",{attrs:{prop:\"sapCode\"}},[s(\"el-input\",{staticClass:\"mino-login__input\",attrs:{\"auto-complete\":\"on\",name:\"sapCode\",placeholder:\"请输入您的用户名\",\"prefix-icon\":\"iconfont icon-denglu2\"},model:{value:t.ruleForm.sapCode,callback:function(e){t.$set(t.ruleForm,\"sapCode\",e)},expression:\"ruleForm.sapCode\"}})],1),s(\"el-form-item\",{attrs:{prop:\"pass\"}},[s(\"el-input\",{staticClass:\"mino-login__input mgb25\",attrs:{\"auto-complete\":\"on\",name:\"pass\",placeholder:\"请输入您的用户密码\",\"prefix-icon\":\"iconfont icon-mima\",type:\"password\"},model:{value:t.ruleForm.pass,callback:function(e){t.$set(t.ruleForm,\"pass\",e)},expression:\"ruleForm.pass\"}})],1),s(\"div\",[s(\"el-checkbox\",{model:{value:t.checked,callback:function(e){t.checked=e},expression:\"checked\"}},[t._v(\"记住密码\")])],1),s(\"div\",{staticClass:\"flex_row_center\",staticStyle:{\"margin-top\":\"20px\"}},[s(\"el-button\",{attrs:{size:\"small\",type:\"primary\"},on:{click:t.login}},[t._v(\"登录\")])],1)],1)],1)])]),t._m(3)])},o,!1,null,\"6ccaf2e4\",null);t.default=c.exports},\"4bda\":function(e,t,s){\"use strict\";var o=s(\"d961\");s.n(o).a},d961:function(e,t,s){},f61c:function(e,t,s){e.exports=s.p+\"static/img/logoHeart.328671e2.png\"}}]);"}